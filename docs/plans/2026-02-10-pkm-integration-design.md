# CompanionBot + AI-PKM í†µí•© ì„¤ê³„

## í•µì‹¬ ì»¨ì…‰

CompanionBotì´ ì‚¬ìš©ìì˜ ë¡œì»¬ ë¬¸ì„œë¥¼ AI-PKM ë°©ì‹(PARA)ìœ¼ë¡œ ê´€ë¦¬í•œë‹¤.
ë¬¸ì„œëŠ” ì‚¬ìš©ì ë¡œì»¬ì— ìˆê³ , CompanionBotì´ ì •ë¦¬/ê²€ìƒ‰/ë¶„ë¥˜ë¥¼ ì„œë¹„ìŠ¤í•œë‹¤.
`npm install -g companionbot` í•˜ë‚˜ë¡œ PKM ê¸°ëŠ¥ê¹Œì§€ ì‚¬ìš© ê°€ëŠ¥.

---

## 1. ì „ì²´ ì•„í‚¤í…ì²˜

```
CompanionBot (npm íŒ¨í‚¤ì§€)
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ telegram/          â† ê¸°ì¡´ (ë³€ê²½ ì—†ìŒ)
â”‚   â”œâ”€â”€ ai/                â† ê¸°ì¡´ (ë³€ê²½ ì—†ìŒ)
â”‚   â”œâ”€â”€ memory/            â† ê¸°ì¡´ + PKM ë¬¸ì„œ ì¸ë±ì‹± í™•ì¥
â”‚   â”œâ”€â”€ tools/             â† ê¸°ì¡´ + PKM ë„êµ¬ 3ê°œ ì¶”ê°€
â”‚   â”‚   â”œâ”€â”€ pkm-inbox.ts      "ì¸ë°•ìŠ¤ ì •ë¦¬í•´ì¤˜"
â”‚   â”‚   â”œâ”€â”€ pkm-search.ts     "OO ê´€ë ¨ ìë£Œ ì°¾ì•„ì¤˜"
â”‚   â”‚   â””â”€â”€ pkm-project.ts    "í”„ë¡œì íŠ¸ ë§Œë“¤ì–´ì¤˜"
â”‚   â”‚
â”‚   â””â”€â”€ pkm/               â† ìƒˆ ëª¨ë“ˆ (AI-PKM ë¡œì§ TypeScript í¬íŒ…)
â”‚       â”œâ”€â”€ init.ts            PARA í´ë” ìƒì„± + .obsidian/ ê¸°ë³¸ì„¤ì • + ì˜¨ë³´ë”©
â”‚       â”œâ”€â”€ watcher.ts         fs.watchë¡œ _Inbox/ ê°ì‹œ (debounce 2ì´ˆ)
â”‚       â”œâ”€â”€ classifier.ts      2ë‹¨ê³„ ë¶„ë¥˜ (Haiku ë¹ ë¥¸ë¶„ë¥˜ â†’ Sonnet ì •ë°€ë¶„ë¥˜)
â”‚       â”œâ”€â”€ frontmatter.ts     YAML frontmatter íŒŒì‹±/ìƒì„±/ì£¼ì…
â”‚       â”œâ”€â”€ inbox.ts           ì¸ë°•ìŠ¤ ì²˜ë¦¬ ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´í„°
â”‚       â”œâ”€â”€ extract.ts         ë°”ì´ë„ˆë¦¬ í…ìŠ¤íŠ¸ ì¶”ì¶œ (PDF/PPTX/XLSX)
â”‚       â”œâ”€â”€ project.ts         í”„ë¡œì íŠ¸ CRUD
â”‚       â”œâ”€â”€ linker.ts          ê´€ë ¨ ë…¸íŠ¸ íƒìƒ‰ + ë§¥ë½ ê¸°ë°˜ ë§í¬ ìƒì„±
â”‚       â””â”€â”€ index.ts           ëª¨ë“ˆ export
```

### ë°ì´í„° íë¦„

```
í…”ë ˆê·¸ë¨ íŒŒì¼ ì „ì†¡ â”€â”€â†’ _Inbox/ì— ì €ì¥
ë¡œì»¬ í´ë” ë“œë¡­ â”€â”€â”€â”€â”€â”€â†’ watcherê°€ ê°ì§€ (debounce 2ì´ˆ)
                         â†“
                   extract.ts (ë°”ì´ë„ˆë¦¬ë©´ í…ìŠ¤íŠ¸ ì¶”ì¶œ)
                         â†“
                   classifier.ts (2ë‹¨ê³„ í•˜ì´ë¸Œë¦¬ë“œ ë¶„ë¥˜)
                         â†“
                   frontmatter ìƒì„± + íŒŒì¼ ì´ë™
                         â†“
                   linker.ts (ê´€ë ¨ ë…¸íŠ¸ íƒìƒ‰ + ë§¥ë½ ì„¤ëª… + ì–‘ë°©í–¥ ë§í¬)
                         â†“
                   memory/indexerì— ë“±ë¡ (ë²¡í„°+FTS)
                         â†“
                   í…”ë ˆê·¸ë¨ìœ¼ë¡œ ê²°ê³¼ ì•Œë¦¼
```

---

## 2. ì˜¨ë³´ë”© í”Œë¡œìš°

```
ê¸°ì¡´ ì˜¨ë³´ë”© ì™„ë£Œ (ì´ë¦„, ì„±ê²© ì„¤ì •)
        â†“
"ğŸ“‚ ë¬¸ì„œ ê´€ë¦¬ ê¸°ëŠ¥ë„ ì¼¤ê¹Œìš”?" (ì˜µíŠ¸ì¸)
        â†“  (Yes)
PARA í´ë” ìë™ ìƒì„±
  ~/.companionbot/pkm/
  â”œâ”€â”€ .obsidian/        â† Obsidian vault ê¸°ë³¸ ì„¤ì •
  â”œâ”€â”€ _Inbox/
  â”œâ”€â”€ _Assets/
  â”œâ”€â”€ 1_Project/
  â”œâ”€â”€ 2_Area/
  â”œâ”€â”€ 3_Resource/
  â””â”€â”€ 4_Archive/
        â†“
í”„ë¡œì íŠ¸ ìƒì„± ê°€ì´ë“œ:

  "ğŸ“‚ í”„ë¡œì íŠ¸ë¥¼ ë¨¼ì € ë§Œë“¤ì–´ë‘ë©´,
  ë‚˜ì¤‘ì— íŒŒì¼ì„ ìŸì•„ë¶€ì„ ë•Œ ì œê°€ ìë™ìœ¼ë¡œ
  ê´€ë ¨ í”„ë¡œì íŠ¸ í´ë”ì— ë„£ì–´ë“œë¦´ ìˆ˜ ìˆì–´ìš”.

  í”„ë¡œì íŠ¸ê°€ ì—†ìœ¼ë©´ ì „ë¶€ 'ì°¸ê³ ìë£Œ'ë‚˜ 'ì˜ì—­'ìœ¼ë¡œë§Œ
  ë¶„ë¥˜ë˜ë‹ˆê¹Œ, ì§€ê¸ˆ ì§„í–‰ ì¤‘ì¸ ì¼ë“¤ì„
  í”„ë¡œì íŠ¸ë¡œ ë§Œë“¤ì–´ë‘ëŠ” ê²Œ ì¢‹ì•„ìš”.

  ì§€ê¸ˆ ì§„í–‰ ì¤‘ì¸ í”„ë¡œì íŠ¸ ì´ë¦„ì„ ì•Œë ¤ì£¼ì„¸ìš”!
  ì—¬ëŸ¬ ê°œë©´ ì‰¼í‘œë¡œ êµ¬ë¶„í•´ì£¼ì„¸ìš”.
  (ì˜ˆ: PoC_KSNET, FLAP_Phase2, PKM_Bot)"

        â†“
ì‚¬ìš©ì: "PoC_KSNET, FLAP_Phase2, PKM_Bot"
        â†“
í”„ë¡œì íŠ¸ í´ë” ì¼ê´„ ìƒì„±
  1_Project/PoC_KSNET/
  â”œâ”€â”€ PoC_KSNET.md  (frontmatter í…œí”Œë¦¿)
  â””â”€â”€ _Assets/
  ... (ê° í”„ë¡œì íŠ¸ë§ˆë‹¤ ë™ì¼)
        â†“
"ì¢‹ì•„ìš”! ì´ì œ íŒŒì¼ì„ ìŸì•„ì£¼ì‹œë©´ ì •ë¦¬í• ê²Œìš”"
```

### ì˜¨ë³´ë”© í•µì‹¬ ì›ì¹™
- PKMì€ ì˜µíŠ¸ì¸ â€” ì›í•˜ì§€ ì•Šìœ¼ë©´ ì•ˆ ì¼œë„ ë¨
- í”„ë¡œì íŠ¸ ë¨¼ì € ë§Œë“  ë’¤ íŒŒì¼ íˆ¬ì… â€” ë¶„ë¥˜ ì •í™•ë„ì˜ í•µì‹¬
- ê°€ì´ë“œì— "ì™œ í•´ì•¼ í•˜ëŠ”ì§€" í¬í•¨ â€” ì•ˆ í•˜ë©´ ì „ë¶€ ì°¸ê³ ìë£Œë¡œ ê°
- ì§ˆë¬¸ ìµœì†Œí™” â€” í”„ë¡œì íŠ¸ ì´ë¦„ë§Œ ë¬¼ì–´ë´„

---

## 3. ëŒ€ëŸ‰ ë¶„ë¥˜ (ì²« ì‚¬ìš© í•µì‹¬ ì‹œë‚˜ë¦¬ì˜¤)

ì‚¬ìš©ìê°€ ê¸°ì¡´ ë¬¸ì„œ 50~100ê°œë¥¼ _Inbox/ì— í•œë²ˆì— ìŸì•„ë¶“ëŠ” ê²ƒì´ ì²« ë²ˆì§¸ ì‹œë‚˜ë¦¬ì˜¤.

```
_Inbox/ì— íŒŒì¼ 100ê°œ íˆ¬ì…
            â†“
    â”€â”€ 1ë‹¨ê³„: ë¹ ë¥¸ ë¶„ë¥˜ (Haiku) â”€â”€
    íŒŒì¼ 10ê°œì”© ë°°ì¹˜ë¡œ ë¬¶ì–´ì„œ ì „ì†¡
    ì…ë ¥: íŒŒì¼ëª… + ì²« 200ì + í™œì„± í”„ë¡œì íŠ¸ ëª©ë¡
    ì¶œë ¥: { para, tags, confidence }
            â†“
    confidence >= 0.8  â†’  ë°”ë¡œ ì´ë™ + frontmatter ìƒì„±
    confidence < 0.8   â†’  "ì• ë§¤í•œ ëª©ë¡"ì— ëª¨ìŒ
            â†“
    â”€â”€ 2ë‹¨ê³„: ì •ë°€ ë¶„ë¥˜ (Sonnet) â”€â”€
    ì• ë§¤í•œ íŒŒì¼ë§Œ ê°œë³„ í˜¸ì¶œ
    ì…ë ¥: íŒŒì¼ ì „ì²´ ë‚´ìš© + í”„ë¡œì íŠ¸ ì»¨í…ìŠ¤íŠ¸
    ì¶œë ¥: { para, tags, summary, targetPath }
            â†“
    ì´ë™ + frontmatter ìƒì„± + ê´€ë ¨ ë…¸íŠ¸ ë§í¬ + ì¸ë±ì‹±
            â†“
    í…”ë ˆê·¸ë¨ ê²°ê³¼ ë¦¬í¬íŠ¸
    "ğŸ“Š 100ê°œ íŒŒì¼ ì •ë¦¬ ì™„ë£Œ
     â€¢ 1_Project: 23ê°œ
     â€¢ 2_Area: 15ê°œ
     â€¢ 3_Resource: 34ê°œ
     â€¢ 4_Archive: 28ê°œ
     âš ï¸ ìˆ˜ë™ í™•ì¸ í•„ìš”: 0ê°œ"
```

### ë¹„ìš© ë¹„êµ (íŒŒì¼ 100ê°œ ê¸°ì¤€)
- ê°œë³„ Sonnet 100íšŒ: ~$1.50
- í•˜ì´ë¸Œë¦¬ë“œ: Haiku 10íšŒ + Sonnet ~20íšŒ: ~$0.35 (ì•½ 75% ì ˆê°)

---

## 4. í´ë” êµ¬ì¡° + ê´€ë¦¬ ê·œì¹™

```
~/.companionbot/pkm/
â”œâ”€â”€ .obsidian/                    â† Obsidian vault ì„¤ì •
â”œâ”€â”€ _Inbox/                       â† íŒŒì¼ ì¸ì…ì 
â”œâ”€â”€ _Assets/                      â† í”„ë¡œì íŠ¸ ë¬´ê´€ ë°”ì´ë„ˆë¦¬
â”œâ”€â”€ 1_Project/                    â† ì‚¬ìš©ìê°€ ì§ì ‘ ìƒì„±
â”‚   â””â”€â”€ PoC_KSNET/
â”‚       â”œâ”€â”€ PoC_KSNET.md          â† í”„ë¡œì íŠ¸ ì¸ë±ìŠ¤
â”‚       â”œâ”€â”€ _Assets/              â† ë°”ì´ë„ˆë¦¬ ì›ë³¸
â”‚       â”œâ”€â”€ ìš”êµ¬ì‚¬í•­.md
â”‚       â””â”€â”€ ê²°ì œí”Œë¡œìš°.pdf.md      â† ë°”ì´ë„ˆë¦¬ ë™ë°˜ íŒŒì¼
â”œâ”€â”€ 2_Area/                       â† ë´‡ì´ í•˜ìœ„í´ë” ìë™ ìƒì„±
â”‚   â”œâ”€â”€ ë³´ì•ˆ/
â”‚   â””â”€â”€ ì¸í”„ë¼/
â”œâ”€â”€ 3_Resource/                   â† ë´‡ì´ í•˜ìœ„í´ë” ìë™ ìƒì„±
â”‚   â”œâ”€â”€ ë¸”ë¡ì²´ì¸/
â”‚   â””â”€â”€ API_ë ˆí¼ëŸ°ìŠ¤/
â””â”€â”€ 4_Archive/                    â† ë´‡ì´ í•˜ìœ„í´ë” ìë™ ìƒì„±
    â””â”€â”€ ì™„ë£Œ_í”„ë¡œì íŠ¸/
```

### í´ë” ê´€ë¦¬ ê·œì¹™
- `1_Project/` â€” ì‚¬ìš©ìì˜ ê²°ì •. "í”„ë¡œì íŠ¸ ë§Œë“¤ì–´ì¤˜"ë¼ê³  í•  ë•Œë§Œ ìƒì„±
- `2_Area/`, `3_Resource/`, `4_Archive/` â€” ë¶„ë¥˜ ì‹œ ì ì ˆí•œ í•˜ìœ„í´ë”ê°€ ì—†ìœ¼ë©´ ë´‡ì´ ìë™ ìƒì„±
- ê¸°ì¡´ í•˜ìœ„í´ë”ê°€ ìˆìœ¼ë©´ ê±°ê¸°ì— ë§¤ì¹­, ì—†ìœ¼ë©´ ìƒˆë¡œ ìƒì„±

### Obsidian ê³µì¡´
- PKM í´ë”ëŠ” Obsidian vaultë¡œ ì—´ì–´ì„œ ê²€í† /ìˆ˜ì •/ì´ë™ ê°€ëŠ¥
- ë´‡ì´ ìš°ì„  â€” Obsidian ì¶©ëŒ ì²˜ë¦¬ ë¡œì§ ë¶ˆí•„ìš”
- `_Inbox/`ì— ìƒˆ íŒŒì¼ë§Œ fs.watchë¡œ ê°ì‹œ

---

## 5. frontmatter ìŠ¤í‚¤ë§ˆ

```yaml
---
para: project | area | resource | archive
tags: [ksnet, scope, ê²°ì œ]
created: 2026-02-10
status: active | draft | completed | on-hold
summary: "SCOPE ê¸°ë°˜ POS ì˜¨ì²´ì¸ ê²°ì œ ì‹œìŠ¤í…œ ìš”êµ¬ì‚¬í•­"
source: original | meeting | literature | import
project: PoC_KSNET          # paraê°€ projectì¼ ë•Œë§Œ
file:                        # ë°”ì´ë„ˆë¦¬ ë™ë°˜ íŒŒì¼ì¼ ë•Œë§Œ
  name: ê²°ì œí”Œë¡œìš°.pdf
  format: pdf
  size_kb: 2340
---
```

### í•„ë“œ ì„¤ëª…
- `para` â€” PARA ë¶„ë¥˜ ì¹´í…Œê³ ë¦¬
- `tags` â€” ê²€ìƒ‰ í‚¤ì›Œë“œ
- `created` â€” ìƒì„±ì¼
- `status` â€” í˜„ì¬ ìƒíƒœ
- `summary` â€” í•œì¤„ ì„¤ëª…
- `source` â€” ì¶œì²˜ (import = ëŒ€ëŸ‰ ë¶„ë¥˜ë¡œ ë“¤ì–´ì˜¨ ê¸°ì¡´ ë¬¸ì„œ)
- `project` â€” ì†Œì† í”„ë¡œì íŠ¸ëª… (ê²€ìƒ‰/ì—°ê²°ì— í™œìš©)
- `file` â€” ë°”ì´ë„ˆë¦¬ íŒŒì¼ ë©”íƒ€ë°ì´í„°

---

## 6. ê´€ë ¨ ë…¸íŠ¸ ë§í¬ (ë§¥ë½ ê¸°ë°˜)

ë¶„ë¥˜ ì™„ë£Œ í›„ ê´€ë ¨ ë…¸íŠ¸ë¥¼ íƒìƒ‰í•˜ê³ , ì™œ ê´€ë ¨ ìˆëŠ”ì§€ ë§¥ë½ì„ ì„¤ëª…í•˜ë©° ì–‘ë°©í–¥ ë§í¬ë¥¼ ìƒì„±í•œë‹¤.

### ë™ì‘ ë°©ì‹
1. ë¶„ë¥˜ ì‹œì ì— í•˜ì´ë¸Œë¦¬ë“œ ê²€ìƒ‰ìœ¼ë¡œ ìœ ì‚¬ ë¬¸ì„œ top 3~5ê°œ íƒìƒ‰
2. Claudeê°€ í˜„ì¬ ë¬¸ì„œ + ìœ ì‚¬ ë¬¸ì„œ ë‚´ìš©ì„ í•¨ê»˜ ë³´ê³  ì—°ê²° ë§¥ë½ ìƒì„±
3. `[[ë¬¸ì„œëª…]]` ìœ„í‚¤ë§í¬ + êµ¬ì²´ì  ì—°ê²° ì´ìœ  ì„¤ëª…
4. ì—°ê²°ëœ ìƒëŒ€ ë¬¸ì„œì—ë„ ì—­ë§í¬ ì¶”ê°€ (ì–‘ë°©í–¥)
5. Obsidian ê·¸ë˜í”„ ë·°ì—ì„œ í´ëŸ¬ìŠ¤í„°ë¡œ ì‹œê°í™”ë¨

### ì¶œë ¥ ì˜ˆì‹œ

```markdown
## ê´€ë ¨ ë…¸íŠ¸
- [[PoC_KSNET]] â€” ì´ ë¬¸ì„œì—ì„œ ë‹¤ë£¨ëŠ” ê²°ì œ í”Œë¡œìš°ê°€ PoC_KSNETì˜
  SCOPE ì˜¨ì²´ì¸ ê²°ì œ êµ¬ì¡°ì™€ ë™ì¼í•œ ì•„í‚¤í…ì²˜ë¥¼ ì‚¬ìš©í•¨
- [[SCOPE_í”„ë¡œí† ì½œ_ë¶„ì„]] â€” ì´ ë¬¸ì„œì˜ 3ì¥ "í† í° ì „ì†¡ íë¦„"ì´
  SCOPE í”„ë¡œí† ì½œì˜ íŠ¸ëœì­ì…˜ ì²˜ë¦¬ ë°©ì‹ì„ ìƒì„¸ ì„¤ëª…í•˜ëŠ” ìë£Œ
- [[2024-01-15 ê²°ì œ íšŒì˜ë¡]] â€” íšŒì˜ì—ì„œ ë…¼ì˜ëœ POS ë‹¨ë§ê¸° ì—°ë™ ì´ìŠˆê°€
  ì´ ë¬¸ì„œì˜ ìš”êµ¬ì‚¬í•­ 4ë²ˆê³¼ ì§ì ‘ ì—°ê²°ë¨
```

### í•µì‹¬
- ë‹¨ìˆœ íƒœê·¸ ë§¤ì¹­ì´ ì•„ë‹Œ ë‚´ìš© ê¸°ë°˜ ë§¥ë½ ì„¤ëª…
- ì½ëŠ” ì‚¬ëŒì´ ë§í¬ë§Œ ë´ë„ ë‘ ë¬¸ì„œì˜ ê´€ê³„ë¥¼ ì´í•´í•  ìˆ˜ ìˆê²Œ
- ì–‘ë°©í–¥ ë§í¬ë¡œ Obsidian ê·¸ë˜í”„ ë·° í™œìš© ê·¹ëŒ€í™”

---

## 7. í”„ë¡œì íŠ¸ ê´€ë¦¬

ìì—°ì–´ë¡œ í…”ë ˆê·¸ë¨ì—ì„œ í”„ë¡œì íŠ¸ë¥¼ ê´€ë¦¬í•œë‹¤.

```
"í”„ë¡œì íŠ¸ ë§Œë“¤ì–´ì¤˜" â†’ "ì´ë¦„ì´ ë­ì˜ˆìš”?" â†’ í´ë” + ì¸ë±ìŠ¤ ìƒì„±
  1_Project/NewProject/
  â”œâ”€â”€ NewProject.md      (frontmatter í…œí”Œë¦¿)
  â””â”€â”€ _Assets/

"ì´ í”„ë¡œì íŠ¸ ëë‚¬ì–´" â†’ í™•ì¸ â†’ 4_Archive/ë¡œ ì´ë™, status: completed

"ì•„ì¹´ì´ë¸Œì—ì„œ ë‹¤ì‹œ êº¼ë‚´ì¤˜" â†’ 1_Project/ë¡œ ë³µì›, status: active
```

---

## 8. ê²€ìƒ‰ (í•˜ì´ë¸Œë¦¬ë“œ í™•ì¥)

ê¸°ì¡´ CompanionBotì˜ ë²¡í„° + FTS í•˜ì´ë¸Œë¦¬ë“œ ê²€ìƒ‰ì„ PKM ë¬¸ì„œê¹Œì§€ í™•ì¥í•œë‹¤.

```
"ë¸”ë¡ì²´ì¸ ê´€ë ¨ ìë£Œ ì°¾ì•„ì¤˜"
        â†“
í•˜ì´ë¸Œë¦¬ë“œ ê²€ìƒ‰ (ë²¡í„° + FTS, ë©”ëª¨ë¦¬ + PKM í†µí•©)
        â†“
â”Œâ”€ ê²€ìƒ‰ ê²°ê³¼ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1. ğŸ“ PoC_KSNET.md (Project) â€” 0.92    â”‚
â”‚    "SCOPE ê¸°ë°˜ POS ì˜¨ì²´ì¸ ê²°ì œ ì‹œìŠ¤í…œ"     â”‚
â”‚ 2. ğŸ“„ ë¸”ë¡ì²´ì¸_ê°œìš”.md (Resource) â€” 0.85 â”‚
â”‚    "ë¸”ë¡ì²´ì¸ ê¸°ìˆ  ê°€ì´ë“œ ë¬¸ì„œ"              â”‚
â”‚ 3. ğŸ’¬ 2024-02-08 ë©”ëª¨ë¦¬ (Memory) â€” 0.78 â”‚
â”‚    "ì–´ì œ ë¸”ë¡ì²´ì¸ ê´€ë ¨ ëŒ€í™” ë‚´ìš©"           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â†“
  ì‚¬ìš©ì: "1ë²ˆ ìì„¸íˆ ë³´ì—¬ì¤˜"
        â†“
  read_file â†’ ì›ë³¸ ì „ì²´ ë‚´ìš© í‘œì‹œ
```

### 2ë‹¨ê³„ ê²€ìƒ‰ íë¦„
1. ì¸ë±ìŠ¤ì—ì„œ ë§¤ì¹­ ì²­í¬(ìŠ¤ë‹ˆí«) ê²€ìƒ‰ â€” ë¹ ë¦„, ì¸ë±ìŠ¤ë§Œ ì‚¬ìš©
2. í•„ìš”í•  ë•Œ read_fileë¡œ ì›ë³¸ ì „ì²´ ì½ê¸° â€” ì •í™•í•œ ë‹µë³€ ìƒì„±

### ê²€ìƒ‰ íŠ¹ì§•
- ë©”ëª¨ë¦¬(ëŒ€í™” ê¸°ë¡)ì™€ PKM ë¬¸ì„œê°€ í•œë²ˆì— ê²€ìƒ‰ë¨
- ì¶œì²˜ í‘œì‹œ â€” Project/Area/Resource/Archive/Memory êµ¬ë¶„
- ê²°ê³¼ì— ë²ˆí˜¸ â†’ "Në²ˆ ìì„¸íˆ" ê°™ì€ í›„ì† ìš”ì²­ ê°€ëŠ¥

---

## 9. ë©”ëª¨ë¦¬ ì˜í–¥ ë¶„ì„

ê¸°ì¡´ í•˜ì´ë¸Œë¦¬ë“œ ê²€ìƒ‰ì€ SQLite ê¸°ë°˜ì´ë¼ PKM ë¬¸ì„œ ì¶”ê°€ ì‹œ ë©”ëª¨ë¦¬ ë¶€ë‹´ ìµœì†Œ.

| êµ¬ì„±ìš”ì†Œ | ë°©ì‹ | ë©”ëª¨ë¦¬ ë¹„ìš© |
|---------|------|-----------|
| ì„ë² ë”© ëª¨ë¸ | all-MiniLM-L6-v2 (384ì°¨ì›) | ~80MB (ì‹±ê¸€í†¤, ê³ ì •) |
| ë²¡í„° ì €ì¥ì†Œ | SQLite BLOB | ë””ìŠ¤í¬ ê¸°ë°˜ |
| FTS ì¸ë±ìŠ¤ | SQLite FTS5 | ë””ìŠ¤í¬ ê¸°ë°˜ |
| ì¿¼ë¦¬ ìºì‹œ | LRU ìµœëŒ€ 100ê°œ | ìˆ˜ KB |

ë¬¸ì„œ 1000ê°œ ì¶”ê°€í•´ë„ ì¶”ê°€ RAMì€ ìˆ˜ MB ìˆ˜ì¤€.

---

## 10. ê¸°ì¡´ íŒŒì¼ ìˆ˜ì • ë²”ìœ„

```
src/tools/definitions.ts   â† PKM ë„êµ¬ 3ê°œ ì¶”ê°€
src/tools/index.ts         â† executeToolì— PKM ë„êµ¬ ë¼ìš°íŒ…
src/memory/indexer.ts      â† PKM ë¬¸ì„œë„ ì¸ë±ì‹± ëŒ€ìƒì— ì¶”ê°€
src/config/constants.ts    â† PKM ê´€ë ¨ ìƒìˆ˜
src/config/loader.ts       â† config.yamlì— pkm ì„¹ì…˜ ì¶”ê°€
src/cli/setup.ts           â† ì˜¨ë³´ë”©ì— PKM ì…‹ì—… ë‹¨ê³„ ì¶”ê°€
src/telegram/bot.ts        â† íŒŒì¼ ìˆ˜ì‹  ì‹œ _Inbox/ ì €ì¥ ë¡œì§
```

### config.yaml ì¶”ê°€ ì„¹ì…˜

```yaml
pkm:
  enabled: true
  root: "~/.companionbot/pkm"
  classify:
    batchSize: 10
    confidenceThreshold: 0.8
  watcher:
    debounceMs: 2000
```

---

## 11. êµ¬í˜„ ì•ˆ í•˜ëŠ” ê²ƒ (YAGNI)

- ~~MCP ì„œë²„~~ â€” ë‚´ì¥ ëª¨ë“ˆë¡œ ì¶©ë¶„
- ~~Obsidian ì¶©ëŒ ì²˜ë¦¬~~ â€” ë´‡ì´ ìš°ì„ 
- ~~íŒ€ ê³µìœ  ê¸°ëŠ¥~~ â€” v2ì—ì„œ
- ~~ì´ë¯¸ì§€ OCR~~ â€” ë©”íƒ€ë°ì´í„°ë§Œ ì¶”ì¶œ

---

## 12. ì‚¬ìš©ì ê²½í—˜ ìš”ì•½

| ì‚¬ìš©ì ì•¡ì…˜ | CompanionBot ë°˜ì‘ |
|-----------|-----------------|
| "ë¬¸ì„œ ê´€ë¦¬ ì¼œì¤˜" | PARA í´ë” ìƒì„± + ì˜¨ë³´ë”© |
| í”„ë¡œì íŠ¸ ì´ë¦„ ì•Œë ¤ì¤Œ | í”„ë¡œì íŠ¸ í´ë” ì¼ê´„ ìƒì„± |
| íŒŒì¼ 100ê°œ _Inbox/ì— íˆ¬ì… | 2ë‹¨ê³„ ìë™ ë¶„ë¥˜ + ê²°ê³¼ ë¦¬í¬íŠ¸ |
| í…”ë ˆê·¸ë¨ì— íŒŒì¼ ì „ì†¡ | _Inbox/ ì €ì¥ â†’ ë¶„ë¥˜ â†’ ì•Œë¦¼ |
| "ì¸ë°•ìŠ¤ ì •ë¦¬í•´ì¤˜" | _Inbox/ ìŠ¤ìº” â†’ ë¶„ë¥˜ â†’ ì´ë™ |
| "OO ê´€ë ¨ ìë£Œ ì°¾ì•„ì¤˜" | í•˜ì´ë¸Œë¦¬ë“œ ê²€ìƒ‰ â†’ ê²°ê³¼ + ì›ë³¸ ì¡°íšŒ |
| "í”„ë¡œì íŠ¸ ë§Œë“¤ì–´ì¤˜" | í´ë” + ì¸ë±ìŠ¤ ìƒì„± |
| "ì´ í”„ë¡œì íŠ¸ ëë‚¬ì–´" | 4_Archive/ë¡œ ì´ë™ |
| Obsidianì—ì„œ ê²€í†  | ê·¸ë˜í”„ ë·°ë¡œ ì—°ê²° ê´€ê³„ í™•ì¸, ììœ ë¡­ê²Œ ìˆ˜ì • |
